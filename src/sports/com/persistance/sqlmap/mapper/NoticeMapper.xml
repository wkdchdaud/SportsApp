<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sports.com.persistance.mapper.NoticeMapper">
	<select id="getNoticeList" resultType="NoticeDTO">
		SELECT NOTICE_NO, TITLE, CONTENTS, NOTICE_YN , REG_USER_NO, TO_CHAR(REG_DT, 'YYYY-MM-DD') AS REG_DT, 
		CHG_USER_NO, CHG_DT FROM NOTICE_INFO  ORDER BY NOTICE_YN, REG_DT DESC
	</select>
	
	<insert id="getNoticeInfo" parameterType="NoticeDTO">
		INSERT INTO NOTICE_INFO
			(
				NOTICE_NO,, TITLE, NOTICE_YN, CONTENTS, USER_NO, READ_CNT,
				REG_USER_NO, REG_DT, CHG_USER_NO, CHG_DT 				
			)
		VALUES(
			(SELECT NVL(MAX(A.NOTICE_NO),0)+1 FROM NOTICE_INFO A),
			#{TITLE}, #{NOTICE_YN}, #{CONTENTS}, #{USER_NO}, 0, #{USER_NO}, SYSDATE, #{USER_NO}, SYSDATE	
		)	
	</insert>
	
	
</mapper>